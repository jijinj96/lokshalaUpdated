<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Post event</title>

	<link rel="stylesheet" href="css/reset.css">
    <link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css'>
    <link rel="stylesheet" href="css/style.css">

 </head>

  <body>

    <form class="login">
  
  <fieldset>
    
  	<legend class="legend">Post an event</legend>
    
    <div class="input">
    	<input type="text" placeholder="Event title" id="title" required />
      <span><i class="fa fa-font"></i></span>
    </div>
	<div class="input">
    	<input type="text" placeholder="dd/mm/yyyy" id="date" required />
      <span><i class="fa fa-calendar"></i></span>
    </div>
    <div class="input">
    	<input type="text" placeholder="Short description" id="desc" red />
      <span><i class="fa fa-comment"></i></span>
    </div>
	    <button type="submit" class="submit" id="check"><i class="fa fa-long-arrow-right"></i></button>

	
	
	
</div>
    

  </fieldset>
  
  
  <div class="feedback">
  	Event posted <br />
    successfully...
  </div>
  
</form>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	<script src="js/index.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$('#check').click(function(){
				console.log('clicked');
				$.ajax({
					url : 'PostEventServlet',
					type : 'POST',
					dataType : 'json',
					//data: $form.serialize(),
					data : JSON.stringify({
						"action"   : 'login',
						"title"  : $('#title').val(),
						"date"	: $('#date').val(),
						"desc"  : $('#desc').val()
					}),
					processData : false,
					success : function(data, textStatus,
							jQxhr) {
						alert(data.msg);
					},
					error : function(jqXhr, textStatus,
							errorThrown) {
						console.log(errorThrown);
					}
				});
				
			});
			
		});
	</script>
</body>
</html>
