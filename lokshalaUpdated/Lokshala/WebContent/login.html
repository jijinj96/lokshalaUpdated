<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login Form</title>
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
</head>
<body>
	<form class="login" action="" method="post">
		<fieldset>
			<legend class="legend">Login</legend>
			<div class="input">
				<input type="email" placeholder="Email" id="email" class="email"
					required /> <span><i class="fa fa-envelope-o"></i></span>
			</div>
			<div class="input">
				<input type="password" placeholder="Password" id="password"
					class="password" required /> <span><i class="fa fa-lock"></i></span>
			</div>
			<button type="submit" class="submit" id="login">
				<i class="fa fa-long-arrow-right"></i>
			</button>
			<div>
				<h4 style="margin-top: 10%; text-align: center;">OR</h4>
				<span>
						<!--  <i class="fa fa-facebook"></i> -->
						<center><a href="smcLogin.html">Smc login?</a></center>
					
				</span>
			</div>
	</form>
	</fieldset>
	<div class="feedback">
		login successful <br /> redirecting...
	</div>

	</form>
	<script src="js/index.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="js/bootstrap.min.js"></script>



	<script type="text/javascript">
		$("#login")
				.click(function(){
							$.ajax({
										url : 'LoginServlet',
										type : 'POST',
										dataType : 'json',
										//data: $form.serialize(),
										data : JSON.stringify({
											"action"   : 'login',
											"username" : $('#email').val(),
											"password" : $('#password').val()
										}),
										processData : false,
										success : function(data, textStatus,
												jQxhr) {
											if (data.msg === 'authenticated') {
												window.location.href = "eventAfterLogin.html"
											}
											else{
												
												alert('error!');
											}
										},
										error : function(jqXhr, textStatus,
												errorThrown) {
											console.log(errorThrown);
										}
									});
						});
	</script>
</body>
</html>